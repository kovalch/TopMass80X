# global options
pullWidth=1.0
weight=weight.combinedWeight
#weight=weight.combinedWeight*sqrt(exp(0.156-0.00137*top.genpartonTop1.Pt())*exp(0.156-0.00137*top.genpartonTop2.Pt()))
binning=top.fitTop1[0].M()
preliminary=2
cmsenergy=8
method=IdeogramNew

#[analysisConfig]
#samplePath=/nfs/dust/cms/user/eschliec/TopMass/2012/Skim_02/
#activeBranches=top.recoW*|top.fitB*|top.fitTop1*|top.fitProb|top.combinationType|weight.combinedWeight|weight.pu*|weight.bTag*|top.recoJetIdx*|top.leptonFlavour|jet.alternativeJet*|jet.jet*
##plotsToDraw=StandardPlots|UETunePlots|MCGeneratorPlots|JESVariationPlots|SignalModellingPlots|BasicMasses|LightPulls|BJetPulls|MixedPulls|ExtraPlotsFitCombTypeEtc|JetPts|TopPts|FitPts|LeptonJetsExtra|JetDetails|EventObservables
#plotsToDraw=StandardPlots|BasicMasses|ExtraPlotsFitCombTypeEtc|JetPts|TopPts|FitPts|JetDetails|EventObservables
#selection=top.fitProb[0] > 0.1 && (pow(top.fitB1[0].Eta()-top.fitB2[0].Eta(),2) + pow(TVector2::Phi_mpi_pi(top.fitB1[0].Phi()-top.fitB2[0].Phi()),2)) > 2.0*2.0 && max(max(max(max(max(top.recoJetIdxB1[0],top.recoJetIdxW1Prod1[0]),top.recoJetIdxW1Prod2[0]),top.recoJetIdxB2[0]),top.recoJetIdxW2Prod1[0]),top.recoJetIdxW2Prod2[0]) < 6
#selectionCP=combinationType[0] == 1
#selectionWP=combinationType[0] < 0
#selectionUN=combinationType[0] > 1
#var1=top.fitTop1[0].M()
#var2=(top.recoW1[0].M()+top.recoW2[0].M())/2.0
##var3=top.fitProb[0]
#var3=1.0
#var4=1.0
#maxPermutations=1

[analysisConfig]
samplePath=/nfs/dust/cms/user/eschliec/TopMass/2012/Skim_02/
activeBranches=top.recoW*|top.fitB*|top.fitTop1*|top.fitProb|top.combinationType|weight.combinedWeight|weight.pu*|weight.bTag*|top.recoJetIdx*|top.leptonFlavour|jet.alternativeJet*|jet.jet*
#plotsToDraw=StandardPlots|UETunePlots|MCGeneratorPlots|JESVariationPlots|SignalModellingPlots|BasicMasses|LightPulls|BJetPulls|MixedPulls|ExtraPlotsFitCombTypeEtc|JetPts|TopPts|FitPts|LeptonJetsExtra|JetDetails|EventObservables
#plotsToDraw=StandardPlots|BasicMasses|ExtraPlotsFitCombTypeEtc|JetPts|TopPts|FitPts|JetDetails|EventObservables
plotsToDraw=StandardPlots|ExtraPlotsFitCombTypeEtc|BasicMasses|ExtraMasses|JetPts|JetEtas|TopPts|FitPts|JetDetails|EventObservables
selection=top.fitProb > 0.1 && (pow(top.fitB1.Eta()-top.fitB2.Eta(),2) + pow(TVector2::Phi_mpi_pi(top.fitB1.Phi()-top.fitB2.Phi()),2)) > 2.0*2.0 && max(max(max(max(max(top.recoJetIdxB1,top.recoJetIdxW1Prod1),top.recoJetIdxW1Prod2),top.recoJetIdxB2),top.recoJetIdxW2Prod1),top.recoJetIdxW2Prod2) < 6 && jet.alternativeJet[3].Pt() > 60
selectionCP=combinationType == 1
selectionWP=combinationType < 0
selectionUN=combinationType > 1
var1=top.fitTop1.M()
var2=(top.recoW1.M()+top.recoW2.M())/2.0
#var3=top.fitProb
var3=1.0
var4=1.0
maxPermutations=1

# templates for 6 jets, first permutation
[templates]
fSig=0.706690
fCP=0.4623628622
fWP=0.0119615627
fUN=0.5256755752
parsCP=172.454|0.983078|78.9336|0.78127|7.72687|0.0716038|6.11091|-0.0919311
parsWP=189.033|0.473682|6.97428|2.41783|174.817|0.70903|141.488|-1.40703|25.2509|-0.327047|4.35953|5.73718|11.4204|-0.0854249|-28.8461|-3.9526|0.648584
parsUN=191.067|0.214655|26.5806|0.301113|173.032|1.0622|83.3411|0.765008|25.3251|0.0113818|-3.46417|0.231709|8.85638|0.0516708|-1.68502|-0.0538548|0.685704
parsCPJES=84.827|-0.00037574|87.5872|-0.241147|5.25909|0.00492801|23.9192|-0.145193|6.64244|-0.000191736|-18.8479|0.00413326
parsWPJES=85.5602|-0.114825|37.6166|0.573308|5.03125|0.000365663|7.13471|0.421285|7.31163|0.087851|-11.8778|-1.11348
parsUNJES=86.9345|-0.00739766|58.1376|-0.0154367|6.49392|-0.00967881|15.9761|-0.0259843|7.5989|0.00311039|-29.0251|-0.049516
parsBKG=0.742968|4.7221|85|35.9331|244.438|27.1292
parsBKGJES=92.0585|8.02591|6.84747

# calibration for 6 jets, first permutation
[calibration] # INFO: the last calibration step will only be applied to FastSim (option -F 1)
massOffset=2.66176e-01|0.0
massSlopeMass=8.74373e-03|0.0
massSlopeJES=-5.63130e+00|0.0
massSlopeMassJES=-4.51638e-02|0.0
jesOffset=-1.10486e-03|0.0
jesSlopeMass=-6.93292e-05|0.0
jesSlopeJES=5.09154e-02|0.0
jesSlopeMassJES=-6.05644e-04|0.0
