# global options
muo_pullWidth=1.04183e+00  #TODO
ele_pullWidth=1.03047e+00
weight=weight.combinedWeight 	#* (Min$(sqrt(pow(top.recoW2Prod1[0].Eta()-jet.jet.Eta(),2) + pow(TVector2::Phi_mpi_pi(top.recoW2Prod1[0].Phi()-jet.jet.Phi()),2)))>0.3)
binning=top.fitTop1[0].M()
preliminary=4
cmsenergy=13
method=IdeogramMin #TODO
fsig=0.961 #atm for Muon calculate out of ControlPlot Yields
lumi=12875#12881el#12875mu#12918  #2192 * 0.870779757(for muons 1907)  *0.68081535(for electrons 1490) *0.760702187(for both leptons);; for muon=2382.72(2151.42); for electron = 1729.13 (2151.54)

[analysisConfig]
selection=top.fitProb>0.2 & weight.puWeight<250 
selectionCP=top.combinationType==1
selectionWP=(top.combinationType>=2 & top.combinationType<=4)
selectionUN=(top.combinationType==6 | top.combinationType<0)
plotsToDraw=EventObservables|BasicMasses|LeptonJets|JetPts#|LeptonSFPlots|PUPlots|bTagSFPlots| #|FitPts|TopPtsLeptonJets|BackgroundPlots|ExtraPlotsFitCombTypeEtc|ExtraMasses|JetPts|JetEtas #|JetBTag|EventObservables||LeptonJetsExtra|JetPhis|JESVariationPlots |MassPlots
#samplePath=/nfs/dust/cms/user/garbersc/TopMass/2015_JESVariations/76x_Test_withoutBTagweight/
#samplePath=/nfs/dust/cms/user/garbersc/TopMass/2015D/76x/
samplePath=/nfs/dust/cms/user/kovalch/GRID-CONTROL_JOBS/Trees_80X/

var1=top.fitTop1.M()  #better with best only? nor realy
var2=top.recoW1.M()
var3=top.fitProb
var4=top.leptonFlavour
activeBranches= top.|weight.|jet. #wildcards dont work? splitlevel Problem with root6 top.recoW*|top.fitB*|top.fitTop1*|top.fitProb|top.combinationType|weight.*|top.leptonFlavour|jet.jet.*|top.recoW1*|top.recoW2Prod1|top.fitW1*|top.fitTTBar*|top.recoB*

backgroundSamplesLept= TopMassTreeSpring16_80X_BG_MC_new_sel_ST_tW_160731 #Summer12_WJets|Summer12_ZJets|Summer12_singleTop|Summer12_QCD|Summer12_Diboson
backgroundFactorsLept=1#|1#|1|1|1

# template configuration	
[templates]
#fraktions atm for "Standart"-parameters and all Permutations
muo_fCP=4.63e-01
muo_fWP=1.69e-01 
muo_fUN=3.68e-01
ele_fCP=4.57e-01
ele_fWP=2.24e-01
ele_fUN=3.2e-01

#Template Fkts
#muo_parsCP=169.307|0.965509|70.6891|0.584038|10.2138|0.0936956|8.27222|-0.0624528|2|-4.96708e-09|67.3297|-0.028532
#muo_parsWP=171.568|0.254775|100.328|-2.987|29.1487|-0.273653|44.9439|-3.30774|0.344138|-0.0047674|0.587291|-0.0513162
#muo_parsUN=166.908|0.803808|72.673|0.11458|21.4473|0.261763|15.6038|-1.44032|0.761281|0.00916028|0.634907|-0.0305555

#muo_parsCPJES=81.7426|-0.0163784|42.7424|0.995851|6.06981|-0.00192408|12.0323|0.861962|6.8066|0.00748108|2.14035|-0.852921
#muo_parsWPJES=81.5784|-0.0165681|41.8232|-0.0172542|6.0924|0.00298773|13.547|-0.273675|7.09384|0.0297258|-0.757235|0.0786975
#muo_parsUNJES=81.5382|0.121787|16.5006|-3.64271|6.81184|0.127968|7.43569|-2.06634|9.38228|-0.02566|-6.86713|3.39357



muo_parsCP=168.807|0.958212|69.9837|0.602342|11.0749|0.0823062|9.98181|0.170116|2|6.25962e-07|67.552|0.0349859
muo_parsWP=169.971|0.673941|92.377|1.55952|28.5083|0.165883|37.3346|0.840665|0.337443|0.000261351|0.432372|-0.00202965
muo_parsUN=166.594|0.8129|68.6841|0.779683|22.3956|0.240914|15.1079|0.435588|0.771287|0.00830198|0.491945|0.0186127
muo_parsCPJES=81.8288|-0.00208561|38.966|-0.0347561|6.18193|-0.0110561|11.4413|-0.120134|7.23773|-0.00165295|0.344291|-0.0270198
muo_parsWPJES=81.7115|-0.0166981|37.6|0.466266|6.19297|-0.0191659|12.2776|0.159885|7.4885|-0.00358955|-1.92373|-0.536749
muo_parsUNJES=81.7471|-0.0270244|17.2888|-0.322864|6.843|-0.0289822|7.05487|-0.466203|9.39506|0.0248402|-7.21397|0.00960879

#nno weight 80X
#muo_parsCP=169.031|0.984095|70.6145|0.646297|7.88958|-0.152947|-1.94898|-0.776185|-0.914584|-0.190175|67.3445|4.98849
#muo_parsWP=170.38|0.568444|91.9115|1.63574|28.5303|0.0139216|37.3034|1.52459|0.33507|-0.00118124|0.413812|-0.00284719
#muo_parsUN=166.666|0.8085|66.4961|0.47163|22.241|0.256617|12.7555|0.275236|0.775742|0.0100174|0.340175|-0.001253
#muo_parsCPJES=81.742|0.00950745|38.5353|-0.551846|6.15875|0.00313624|10.796|-0.378628|7.19329|-0.00495923|1.51017|0.427617
#muo_parsWPJES=81.53|-0.0260638|35.2217|-6.64832e-05|6.12479|-0.023832|9.52412|-0.194043|7.49558|0.00738847|0.503999|-0.154924
#muo_parsUNJES=81.6574|-0.0196176|18.0053|-0.391423|6.80524|-0.0279965|7.80459|-0.345107|9.39012|0.0148628|-7.43666|0.36207

#muo_parsCP=171.755|0.99381|79.8565|0.893298|10.3643|0.0790784|9.89278|-0.0371068|0|0|0|0
ele_parsCP=171.747|0.979876|80.3197|0.863724|10.4146|0.0947903|10.0009|-0.0465065|0|0|0|0
#muo_parsWP=173.785|0.938106|103.341|2.76756|29.5164|0.394661|40.1086|1.74947|0.391431|0.00436452|0.323069|0.0252243
ele_parsWP=173.513|0.941193|108.01|3.29725|29.3021|0.456616|43.5436|2.19241|0.387344|0.00538523|0.336407|0.0299104
#muo_parsUN=169.893|0.910911|83.3198|1.08382|19.0538|0.208581|13.355|0.0288625|0.818267|0.00834576|0.292096|-0.0189799
ele_parsUN=169.855|0.930519|84.1545|0.995716|18.9481|0.224343|12.2543|-0.0695835|0.818326|0.00978149|0.295935|0.013007

#muo_parsCPJES=83.2533|0.0236372|44.1158|-0.18204|6.22374|0.0115167|12.0021|-0.00948197|7.32155|-0.0146219|-2.03811|0.227249
ele_parsCPJES=83.2832|-0.000299135|43.8766|0.143892|6.2237|-0.00713417|11.7873|0.0525773|7.3171|-0.00595147|-1.55266|-0.155703
#muo_parsWPJES=83.0552|0.0183874|42.9912|-0.515279|6.24144|0.00880269|13.2548|-0.417049|7.55015|-0.0129564|-4.93732|0.416919
ele_parsWPJES=83.1129|0.0120467|43.4328|0.279276|6.25588|0.0050159|13.3512|0.223193|7.50875|-0.0169955|-5.01697|-0.222762
#muo_parsUNJES=82.8867|-0.00778345|24.1526|-0.32159|6.89967|-0.00946911|8.3505|-0.358028|9.12255|0.0108723|-6.92703|0.089167
ele_parsUNJES=82.8999|-0.0251861|25.3188|0.464741|6.89474|-0.0251888|9.00359|0.0902421|9.12955|0.00751258|-8.07625|-0.452554

#fittet with 5 JES values
[calibration] 
#muo_massOffset=-7.62671e-02|0.0       
#muo_massSlopeMass=2.85353e-03|0.0 
#muo_massSlopeJES=3.50725e+00|0.0     
#muo_massSlopeMassJES=-3.70723e-01|0.0 

#muo_jesOffset=-3.11238e-03|0.0        
#muo_jesSlopeMass=1.30637e-04|0.0     
#muo_jesSlopeJES=-1.81387e-02|0.0       
#muo_jesSlopeMassJES=1.87136e-02|0.0   

##no W+jet this
#muo_massOffset=-9.96489e-02|0.0       
#muo_massSlopeMass=-3.67711e-03|0.0 
#muo_massSlopeJES=4.10821e+00|0.0     
#muo_massSlopeMassJES=-1.87715e-01|0.0 

#muo_jesOffset=-3.13711e-03|0.0        
#muo_jesSlopeMass=-1.23648e-04|0.0     
#muo_jesSlopeJES=-6.55758e-02|0.0       
#muo_jesSlopeMassJES=2.55810e-03|0.0   

##ICHEPdata
muo_massOffset=-9.61729e-02|0.0       
muo_massSlopeMass=-3.40746e-03|0.0 
muo_massSlopeJES=4.17835e+00|0.0     
muo_massSlopeMassJES=-2.00943e-01|0.0 

muo_jesOffset=-3.15921e-03|0.0        
muo_jesSlopeMass=-1.28409e-04|0.0     
muo_jesSlopeJES=-6.62988e-02|0.0       
muo_jesSlopeMassJES=2.54292e-03|0.0  



#fittet with 5 JES values
#muo_massOffset=−0.7754185|0.0 			-7.56535e-01 + -1.88835e-02
#muo_massSlopeMass=0.06650849|0.0		2.64944e-02 + 1.56449e-03
#muo_massSlopeJES=0.214167|0.0		-2.83247e-01 + 4.97414e-01  !!!!
#muo_massSlopeMassJES=−0.8066676|0.0	-7.34976e-01 + -7.16916e-02
#muo_jesOffset=−0.00145268|0.0		-1.83762e-03 + 3.84940e-04
#muo_jesSlopeMass=−0.000487537|0.0		-4.77278e-04 + -1.02588e-05
#muo_jesSlopeJES=−0.02473905|0.0		-1.79318e-02 + -6.80725e-03
#muo_jesSlopeMassJES=0.011968762|0.0	1.10252e-02 + 9.43562e-04 



#muo_massOffset=0.0|0.0
#muo_massSlopeMass=0.0|0.0
#muo_massSlopeJES=0.0|0.0
#muo_massSlopeMassJES=0.0|0.0
#muo_jesOffset=0.0|0.0
#muo_jesSlopeMass=0.0|0.0
#muo_jesSlopeJES=0.0|0.0
#muo_jesSlopeMassJES=0.0|0.0

ele_massOffset=-9.24014e-01|0.0
ele_massSlopeMass=8.14745e-03|0.0
ele_massSlopeJES=-2.62995e+00|0.0
ele_massSlopeMassJES=-1.39355e-01|0.0
ele_jesOffset=2.21348e-03|0.0
ele_jesSlopeMass=-1.42162e-04|0.0
ele_jesSlopeJES=-4.50488e-03|0.0
ele_jesSlopeMassJES=1.72339e-03|0.0






