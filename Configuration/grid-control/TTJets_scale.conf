[global]
module = CMSSW_Advanced
;include = /afs/desy.de/user/k/kovalch/xxl/af-cms/CMSSW_8_1_0_pre6/src/TopMass/Configuration/grid-control/grid-control_SemiLeptTree_13TeV_BASE.conf
workdir = /nfs/dust/cms/user/kovalch/GRID-CONTROL_JOBS/Trees_80X/forSyst/work.TopMassTreeSpring16_80X_SignalMC_scaleup_down_160823
backend = local
;backend = grid

;[grid]
;sites = desy.de

[local]
wms = SGE
project_name = af-cms
qsubArg = -l distro="sld6" -m ae
;qsubArg = -l distro="sld6"

;[SGE]
;qsub args = -l distro="sld6" -m a

[jobs]
monitor = dashboard 
;jobs         = 1  ; limit number of jobs, comment out to run over all events in a dataset
;in flight    = 10   ; maximum number of concurrently submitted jobs
;jobs       = 10
in flight  = -1 ;number of jobs
;in flight  = -1
;wall time  = 0:14
wall time  = 23:59 ; request 3h/24h/168h computing time
memory     = 3900
max retry  = 12

[storage]
se output files   = *.root
se output pattern = job_@MCVERSION@_@NICK@_@LJESFACTOR@_@LEPTON@_@MY_JOBID@.@XEXT@ ; for scale
se path  = dir:///nfs/dust/cms/user/kovalch/GRID-CONTROL_JOBS/Trees_80X/forSyst/TopMassTreeSpring16_80X_SignalMC_scaleup_down_160823
;se path = srm://dcache-se-cms.desy.de:8443/pnfs/desy.de/cms/tier2/store/user/kovalch/TopMassTreeWriter_TEST

[CMSSW_Advanced]
project area    = /afs/desy.de/user/k/kovalch/xxl/af-cms/CMSSW_8_1_0_pre6
nickname config = %(project area)s/src/TopMass/Configuration/analysis/analyzeTopHypotheses_cfg.py
;arguments        = lepton=@LEPTON@ mcversion=@MCVERSION@ lJesFactor=@LJESFACTOR@ mcWeight=@MCWEIGHT@ logScaleFactor=@LOGSCALEFACTOR@; for scale
arguments        = lepton=@LEPTON@ mcversion=@MCVERSION@ lJesFactor=@LJESFACTOR@ mcWeight=@MCWEIGHT@ ; for scale

dataset         =
    ;
    ; Spring16 MC
    ;

    TT_TuneCUETP8M1_mtop1725_13TeV_powheg_pythia8_scaledown :  /TT_TuneCUETP8M1_13TeV-powheg-scaledown-pythia8/RunIISpring16MiniAODv2-PUSpring16_80X_mcRun2_asymptotic_2016_miniAODv2_v0-v1/MINIAODSIM
    TT_TuneCUETP8M1_mtop1725_13TeV_powheg_pythia8_scaleup :  /TT_TuneCUETP8M1_13TeV-powheg-scaleup-pythia8/RunIISpring16MiniAODv2-PUSpring16_80X_mcRun2_asymptotic_2016_miniAODv2_v0-v1/MINIAODSIM

    
area files       = -.* -config lib module python */data *.xml *.sql *.cf[if] *.py *.root -*/.hg *.csv
;area files       = -.* -config lib module python */data *.xml *.sql *.cf[if] *.db *.py *.root -*.hg/* -analyzeTop.root -*.git/*

nickname constants = MCWEIGHT ; for scale    
    
dataset provider = DBS3Provider
 
MCVERSION = RunIIFall15DR

MCWEIGHT       = 
    TT_TuneCUETP8M1_mtop1725_13TeV_powheg_pythia8_scaledown => 0.0836818 ;9942427, x-sec = 832 
    TT_TuneCUETP8M1_mtop1725_13TeV_powheg_pythia8_scaleup   => 0.0837584; 9933327, x-sec = 832 
    

;LJESFACTOR =
;   TT_TuneCUETP8M1_mtop1725_13TeV_powheg_pythia8_scaledown  => 1.00776
;   TT_TuneCUETP8M1_mtop1725_13TeV_powheg_pythia8_scaleup    =>  0.994263 

;LOGSCALEFACTOR =
;   TT_TuneCUETP8M1_mtop1725_13TeV_powheg_pythia8_scaledown => -0.00352698
;   TT_TuneCUETP8M1_mtop1725_13TeV_powheg_pythia8_scaleup   =>  0.000855422
   
[parameters]   
parameters =  LEPTON LJESFACTOR ; for scale
LEPTON = muon
LJESFACTOR = 1.00

;events per job  = 120000  ; TTJets (~9h) 
events per job  = 60000

;;
;; Dataset specific adjustments
;;
;; unfortunately here doesn't work the 'one fits all'-philosophy
;;